Shortly after the battle of Starkiller Base,[a] General Leia Organa is leading the Resistance forces in evacuating their base when the First Order fleet arrives. Against Leia's orders, Poe Dameron leads a costly counterattack that destroys a First Order dreadnought. The remaining Resistance escapes into hyperspace, but the First Order uses a device to track them, and attacks again. Kylo Ren hesitates to fire on the lead Resistance ship after sensing his mother Leia's presence on board, but his wingmen destroy the bridge, killing most of the Resistance's leaders. Leia is dragged into space but survives by using the Force. While Leia recovers, Vice-Admiral Holdo assumes command of the Resistance. Running low on fuel, the remaining fleet is pursued by the First Order.

On Ahch-To, Rey attempts to recruit Luke Skywalker to the Resistance. Under self-imposed exile, Luke refuses to help and says that the Jedi should end. After encouragement from R2-D2, he agrees to give Rey three lessons in the ways of the Force. Rey and Kylo begin communicating through the Force, which puzzles them both. Kylo tells Rey that Luke feared his power; Luke confesses that he momentarily contemplated killing Kylo upon sensing that Snoke was corrupting him, which prompted Kylo to destroy Luke's new Jedi Order. Convinced that Kylo can be redeemed, Rey leaves Ahch-To. Luke prepares to burn the Jedi library but hesitates. The spirit of Luke's master Yoda appears and destroys the library by summoning a bolt of lightning. He encourages Luke to learn from his failure. 

Meanwhile, Poe entrusts Finn, mechanic Rose, and BB-8 with a secret mission to disable the First Order's tracking device. Maz Kanata directs them to the casino town of Canto Bight, where they meet the hacker DJ. Pursued by the local security, they escape Canto Bight with the help of stablehand children and racing animals they set free. Finn, Rose, and DJ infiltrate Snoke's flagship but are captured by Captain Phasma. Rey also infiltrates the flagship and is captured by Kylo, who brings her before Snoke. Snoke reveals that he connected their minds to discover Luke's whereabouts.

Holdo plans to evacuate the remaining members of the Resistance using small transport vessels. Believing her plan cowardly and futile, Poe leads a mutiny. A recovered Leia stuns Poe with a blaster and proceeds with the evacuation. Holdo remains aboard the ship as a decoy to mislead Snoke's fleet as the others flee to an abandoned base on Crait. DJ buys his freedom by revealing the Resistance's plan to General Hux, and the First Order fleet begins firing on the evacuation transports, destroying many. 